<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>Document</title>
</head>

<body style="display: flex; align-items: center; justify-content: center; height: 100vh;">

    <div>
        <canvas style="width: 700px; height: 50vh;" id="myChart"></canvas>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        const labels = [
            'Jamb CBT',
            'WAEC 2021',
            'GCE 2020',
            'NECO 2022',
            'NABTEB 2021',
        ];
        let res = "<%- result %>",
            avg = "<%- average %>",
            result = [];
        res = res.split(',');

        for (let num of res) {
            result.push(Number(num))
        }

        const data = {
            labels: labels,
            datasets: [{
                label: 'Quiz Results',
                backgroundColor: 'rgb(255, 99, 132)',
                borderColor: 'rgb(255, 99, 132)',
                data: result,
            }, {

                label: `Overall Average Perfomance: ${Number(avg).toFixed(2)}%`,
                backgroundColor: 'rebeccapurple',
                borderColor: 'rebeccapurple',

            }]
        };

        const config = {
            type: 'line',
            data: data,
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Suggested Min and Max Settings'
                    }
                },
                scales: {
                    y: {
                        // the data minimum used for determining the ticks is Math.min(dataMin, suggestedMin)
                        suggestedMin: 0,

                        // the data maximum used for determining the ticks is Math.max(dataMax, suggestedMax)
                        suggestedMax: 100,
                    }
                }
            },

        };


        const myChart = new Chart(
            document.getElementById('myChart'),
            config
        );
    </script>


    <script>
        // const DATA_COUNT = 7;
        // const NUMBER_CFG = {
        //     count: DATA_COUNT,
        //     min: 0,
        //     max: 100
        // };

        // const labels = Utils.months({
        //     count: 7
        // });
        // const data = {
        //     labels: labels,
        //     datasets: [{
        //         label: 'Dataset 1',
        //         data: [10, 30, 39, 20, 25, 34, -10],
        //         borderColor: Utils.CHART_COLORS.red,
        //         backgroundColor: Utils.CHART_COLORS.red,
        //     }, {
        //         label: 'Dataset 2',
        //         data: [18, 33, 22, 19, 11, 39, 30],
        //         borderColor: Utils.CHART_COLORS.blue,
        //         backgroundColor: Utils.CHART_COLORS.blue,
        //     }]
        // };

        // const config = {
        //     type: 'line',
        //     data: data,
        //     options: {
        //         responsive: true,
        //         plugins: {
        //             title: {
        //                 display: true,
        //                 text: 'Suggested Min and Max Settings'
        //             }
        //         },
        //         scales: {
        //             y: {
        //                 // the data minimum used for determining the ticks is Math.min(dataMin, suggestedMin)
        //                 suggestedMin: 30,

        //                 // the data maximum used for determining the ticks is Math.max(dataMax, suggestedMax)
        //                 suggestedMax: 50,
        //             }
        //         }
        //     },
        // };
    </script>
</body>

</html>